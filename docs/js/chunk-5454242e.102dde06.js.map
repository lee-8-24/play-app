{"version":3,"sources":["webpack:///./src/util/data.js"],"names":["getEntryAt","array","minute","i","length","st","ed","getWaitNum","label","entry","waitNum","getWaitTime","waitTime","Math","round","getPlayerCount","totalNum","in","tot","dateToMinute","date","getHours","getMinutes","getModifiedTime","Date","hours","setHours","getCurrentWaitNum","getCurrentWaitTime","getCurrentPlayerCount"],"mappings":"itxBAAA,4NAKA,SAASA,EAAWC,EAAOC,GACzB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAMG,OAAQD,IAAK,CACrC,IAAME,EAAKJ,EAAME,EAAI,GAAG,MAClBG,EAAKL,EAAME,GAAG,MAEpB,GAAIE,GAAMH,GAAUA,GAAUI,EAC5B,OAAOL,EAAME,GAOjB,OAAOF,EAAMA,EAAMG,OAAS,GAGvB,SAASG,EAAWC,EAAON,GAChC,IAAMO,EAAQT,EAAWU,EAASR,GAElC,OAAc,OAAVO,EACKA,EAAMD,GAEN,EAIJ,SAASG,EAAYH,EAAON,GACjC,IAAMO,EAAQT,EAAWY,EAAUV,GAEnC,OAAc,OAAVO,EACKI,KAAKC,MAAML,EAAMD,IAEjB,EAcJ,SAASO,EAAeb,GAC7B,IAAMO,EAAQT,EAAWgB,EAAUd,GAEnC,OAAa,MAATO,EACK,CACLQ,GAAIJ,KAAKC,MAAML,EAAM,WACrBS,IAAKL,KAAKC,MAAML,EAAM,YAGjB,CACLQ,GAAI,EACJC,IAAK,GAKJ,SAASC,EAAaC,GAC3B,OAAyB,GAAlBA,EAAKC,WAAkBD,EAAKE,aAAe,IAG7C,SAASC,IACd,IAAMH,EAAO,IAAII,KAEbC,EAAQL,EAAKC,WAOjB,OALII,GAAS,EAAGA,EAAQ,EACfA,GAAS,KAAIA,EAAQ,IAE9BL,EAAKM,SAASD,GAEPL,EAGF,SAASO,EAAkBnB,GAChC,IAAMY,EAAOG,IAEb,OAAOhB,EAAWC,EAAOW,EAAaC,IAGjC,SAASQ,EAAmBpB,GACjC,IAAMY,EAAOG,IAEb,OAAOZ,EAAYH,EAAOW,EAAaC,IASlC,SAASS,IACd,IAAMT,EAAOG,IAEb,OAAOR,EAAeI,EAAaC,M","file":"js/chunk-5454242e.102dde06.js","sourcesContent":["import waitNum from \"@/data/wait_num.json\";\r\nimport waitTime from \"@/data/wait_time.json\";\r\nimport totalNum from \"@/data/total_num.json\";\r\nimport currentNum from \"@/data/current_num.json\";\r\n\r\nfunction getEntryAt(array, minute) {\r\n  for (let i = 1; i < array.length; i++) {\r\n    const st = array[i - 1][\"时间\"];\r\n    const ed = array[i][\"时间\"];\r\n\r\n    if (st <= minute && minute <= ed) {\r\n      return array[i];\r\n    }\r\n  }\r\n\r\n  // if (minute < array[array.length - 1][\"时间\"]) return array[array.length - 1];\r\n  // else return null;\r\n\r\n  return array[array.length - 1];\r\n}\r\n\r\nexport function getWaitNum(label, minute) {\r\n  const entry = getEntryAt(waitNum, minute);\r\n\r\n  if (entry !== null) {\r\n    return entry[label];\r\n  } else {\r\n    return 0;\r\n  }\r\n}\r\n\r\nexport function getWaitTime(label, minute) {\r\n  const entry = getEntryAt(waitTime, minute);\r\n\r\n  if (entry !== null) {\r\n    return Math.round(entry[label]);\r\n  } else {\r\n    return 0;\r\n  }\r\n}\r\n\r\nexport function getWaitCount(label, minute) {\r\n  const entry = getEntryAt(currentNum, minute);\r\n\r\n  if (entry !== null) {\r\n    return Math.round(entry[label]);\r\n  } else {\r\n    return 0;\r\n  }\r\n}\r\n\r\nexport function getPlayerCount(minute) {\r\n  const entry = getEntryAt(totalNum, minute);\r\n\r\n  if (entry != null) {\r\n    return {\r\n      in: Math.round(entry[\"当前园内人数\"]),\r\n      tot: Math.round(entry[\"游园人数统计\"]),\r\n    };\r\n  } else {\r\n    return {\r\n      in: 0,\r\n      tot: 0,\r\n    };\r\n  }\r\n}\r\n\r\nexport function dateToMinute(date) {\r\n  return date.getHours() * 60 + date.getMinutes() - 8 * 60;\r\n}\r\n\r\nexport function getModifiedTime() {\r\n  const date = new Date();\r\n\r\n  let hours = date.getHours();\r\n\r\n  if (hours <= 8) hours = 9;\r\n  else if (hours >= 16) hours = 15;\r\n\r\n  date.setHours(hours);\r\n\r\n  return date;\r\n}\r\n\r\nexport function getCurrentWaitNum(label) {\r\n  const date = getModifiedTime();\r\n\r\n  return getWaitNum(label, dateToMinute(date));\r\n}\r\n\r\nexport function getCurrentWaitTime(label) {\r\n  const date = getModifiedTime();\r\n\r\n  return getWaitTime(label, dateToMinute(date));\r\n}\r\n\r\nexport function getCurrentWaitCount(label) {\r\n  const date = getModifiedTime();\r\n\r\n  return getWaitCount(label, dateToMinute(date));\r\n}\r\n\r\nexport function getCurrentPlayerCount() {\r\n  const date = getModifiedTime();\r\n\r\n  return getPlayerCount(dateToMinute(date));\r\n}\r\n"],"sourceRoot":""}